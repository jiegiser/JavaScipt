<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>浏览器调试技巧</title>
</head>

<body>
    <div>调试技巧</div>
    <script src="./js/console.js"></script>
    <script>
        // ---------------------------------google调试技巧
        // 读掘金文章笔记--文章地址https://juejin.im/post/5c1365a9e51d452f8e6034cb
        // -----console------
        // 1. $1,$2,$3依次类推，是我们所选择过的元素，可以使用其他引用来尝试一些相关操作(例子: $1.appendChild($0))
        // 2. $(),在console中相当于document.querySelector，$$();它不仅仅执行document.QuerySelectorAll并且返回的是一个节点的数组，而不是一个Node list
        // 两者的区别就是比如$('div'),$$('div');前者返回的是页面中所有的div。并按照父子关系显示，后者也是按照父子关系，但是他返回的是一个数组
        // 3. $_，是显示上一次执行的结果；
        // 4. $i('lodash'),可以直接使用lodash，但是我的浏览器，不行。
        // --------copying & saving------
        // 1. copy() 方法,可以copy所有的资源,比如我们前面的$0,$1等等,也可以copy函数,变量等等;
        // 2. 选择变量右击它，并且选择“Store as global variable” (保存为全局变量),这样会默认命名为temp1,一直往下延续,
        // 这样操作就是方面我们在后面使用操作他,比如你在console中输入一个数组,你没有用变量打印他,你可以手动设置他为全局变量;
        // 3. 对于页面出错信息,我们可以使用在出错信息上右击选择save as进行保存log文件,
        // 4. 右击或者点击在html元素边上的省略号(...)就可以将它copy到你的操作系统的剪贴板中
        // ----------console中的函数------------
        // 1. console.assert()函数，比如console.assert(true,["ss","ssfdfd"]);他会打印undefined，如果为false那么console.assert(false,["ss","ssfdfd"]);
        // 打印结果为VM448:1 Assertion failed: (2) ["ss", "ssfdfd"]；也就是说我们不需要用if进行判断了，比如我们通常这样：
        // let aa=null;if(aa==null){console.log("null")}在console中我们可以这样console.assert(aa!=null,"null")打印出为Assertion failed: null
        // 如果前面的判断为false的时候，会进入后面的语句；
        // 2. console.dir();比如我们打印页面的li元素，li=$('li')；console.log(li);只会打印出他里面的元素，并不是我们想要的，我们想要看他的属性，而不是DOM。
        // 我们只需要console.dir(li);这样，就会打印出他的所有属性
        // 3. console.table($$('li'),["textContent","className"])；会打印出一个表格，表头为index，textContent，className
        // 如果是数组的话，可以直接传入数组即可，let as=["dd",'aa',"wqw"]  console.table(as)，表头为index、value
        // ----------元素面板-----------------
        // 1. 可以按h，来实现影藏或显示元素；
        // 2. 想要看看页面的一部分在DOM树的不同部分是如何显示的时候，只需要拖动放置它到指定的位置；
        // 3. 如果你只是想移动你当前选中的元素，在DOM结构中往上一点或者往下一点，而不是拖动和放置，你同样可以使用[ctrl]加上下键移动元素
        // 4. 在元素面板中，跟word差不多一样，可以使用ctrl+v粘贴等，以及ctrl+z撤销，ctrl+shift+z重新编辑我们的修改
        // ----------Command(命令)菜单-----------
        // 1. 在chrome的调试打开的情况下，按住ctrl+shift+p可以打开command命令菜单。或者使用Devtools的dropdown按钮
        // 2. 使用command命令菜单中的截屏。如果要对一个dom节点进行截屏，选择capture node screenshot，如果要使用全屏截图
        // 使用capture full size screenshot。会直接将页面截取一个长图。
        // 3. 在command命令菜单中输入layout，会出现两个选项，这两个选项就是设置我们的使用的面板的位置：横向面板布局、使用纵向面板布局、使用自动面板布局
        // 注意当前显示的布局不会显示。
        // 4. 快速切换主题：在 Commands菜单中寻找与 theme 相关的选项，以实现在明亮&暗黑两种主题之间的切换
        // ----------异步console知识-------------
        // 1. console本来就是默认被async包裹着的--可以直接视图awit等，比如Fetch等等
        // 2. 在console查看系统的占用数以及空闲数，输入代码：await navigator.storage.estimate()结果：{quota: 15379114393, usage: 0}
        // 获取设备的电池信息：console.table(await navigator.getBattery())；媒体能力：query={type:'file',audio:{contentType:'audio/ogg'}}
        // console.table(await navigator.mediaCapabilities.decodingInfo(query))---有错误
        // Cache storage keys(一般用来对Request和response进行缓存):await caches.keys()
        // ----------Color picker（颜色选择器）-------------------
        // 1. 颜色选择器，也就是我们点击css样式的时候，会出现一个颜色，然后我们点击那个颜色，颜色选择器就会出现。使用颜色选择器
        // 可以选择页面上任何一个图标的颜色。
        // 2. 当打开一个文本的调色选择器(这个 color css 属性 但不是 background-color) 你会看到**“Contrast ratio(对比度)”**部分。它显示了文本和它（开发者工具）认为这段文本应该有的背景颜色之间的对比度。如果这个数值很高，你的文本相对于背景来说更容易被看见，如果这个值接近 1 ,那么文本的颜色几乎不能从背景中区分出来；
        // ---------给console加上时间---------------------------
        // 1. 给 logs 加上时间戳：打开控制面板ctrl+shift+p，然后输入time，找到timestamps，然后我们在打印console.log的时候。其那面就会加上时间
        // 2. 监测执行时间：console.time() — 开启一个计时器；console.timeEnd() — 结束计时并且将结果在 console 中打印出来
        // 如果你想一次记录多件事，可以往这些函数中传入不同的标签值。(例如:console.time('loading'), console.timeEnd('loading'))
        // 这里需要注意的是浏览器将以毫秒为单位
        // ----------自定义格式转换器----------------------------
        // 1. 自定义格式化转换器，首先按住F1或者点击打开设置，勾选Enable custom formatters，
        // 这个formatters是一个最多有三个方法的数组，
        // header —  处理如何展示在 console 的日志中的主要部分。
        // hasbody —  如果你想显示一个用来展开对象的▶ 箭头，返回 true
        // body - 定义将会被显示在展开部分的内容中。
        // 输入下面的代码，会将我们的console打印的内容进行格式化。
        // window.devtoolsFormatters = [{
        //     header: function (obj) {
        //         return ['div', {}, `${JSON.stringify(obj,null,7)}`]
        //     },
        //     hasBody: function () {
        //         return false;
        //     }
        // }]
        // 格式化之后，输入window.document，结果如下
        // {
        //     "location": {
        //         "href": "https://juejin.im/post/5c1365a9e51d452f8e6034cb",
        //         "ancestorOrigins": {},
        //         "origin": "https://juejin.im",
        //         "protocol": "https:",
        //         "host": "juejin.im",
        //         "hostname": "juejin.im",
        //         "port": "",
        //         "pathname": "/post/5c1365a9e51d452f8e6034cb",
        //         "search": "",
        //         "hash": ""
        //     }
        // }
        // 格式化之前，输入window.document，结果如下：window.document，需要点击三角形，才能展开。
        // header 方法返回了一个 JsonML (译者注： JsonML: JSON Markup Language JSON 标记语言)数组，由这些组成：
        // 标签名
        // 属性对象
        // 内容 (文本值或者其他元素)
        // 在输出的时候，这个简单的 formatter 对于每一层嵌套，直接以 7 个空格的缩进打印这个对象。
        // 2. 自定义格式化转换器的应用实践
        // 一般来说，每当你有一些不寻常的对象的时候，或者大量的日志(最好避免这样的情况，但是有时候很有用)而且你想从中做区分的时候，
        // 你可以采用一个 custom formatter (自定义格式转换器)来处理。
        // 一个很实用的窍门就是，直接将你不关心，不需要区别对待的对象过滤出来，这种情况，直接在 header 方法里面 return null。
        // 让 DevTools 使用默认的格式化方式来处理这些值。
        // 好了，撇开实用性，你同样可以在它上面找点乐子 - 这儿有一个关于console 方法的蠢萌例子：
        // 它叫做 console.clown() 并且他将打印对象进行转换，而且在对象前面加上一个 emoji 表情 ... 可能是为了更好的显示吧，我猜 😁
        // 输入下面的代码：-------他是格式化对象。
        // window.devtoolsFormatters = [{
        //     header: function (obj) {
        //         if (!obj.__clown) {
        //             return null;
        //         }
        //         delete obj.__clown;
        //         const style =
        //             `
        //     color: red;
        //     border: dotted 2px gray;
        //     border-radius: 4px;
        //     padding: 5px;
        // `
        //         const content = `😁 ${JSON.stringify(obj, null, 2)}`;

        //         try {
        //             return ['div', {
        //                 style
        //             }, content]
        //         } catch (err) { // for circular structures
        //             return null; // use the default formatter
        //         }
        //     },
        //     hasBody: function () {
        //         return false;
        //     }
        // }]
        // ----------------------style editors continued（样式编辑器）-------------
        // 1. 阴影编辑器：他跟前面说的颜色编辑器一样，你可以通过在 Style 面板中点击靠近 box-shadow属性 
        // 或者 text-shadow属性的阴影方形符号来打开它。
        // 2. Timing function editor 定时函数编辑器：
        // 也被称为 Cubic bezier(贝塞尔) 编辑器。贝塞尔曲线是一串用来定义 CSS 的动画速度在整个动画过程中如何变化的魔法数值。
        // 我们将其定义为 transition-timing-function 或者 animation-timing-function CSS 属性。
        // 就像之前说的 Color picker 和 Shadow editor 一样直接点击我们刚刚提到的属性
        // (或者他们的简写形式：trasition, animation - 请注意：如果 timing 函数的值没有设置在这个简写的形式中，
        // 这个符号不会显示出来)边上的曲线符号。
        // 3. 插入样式规则的按钮
        // 当你把鼠标放在样式选择器的选择区域的最后时（鼠标移动到有三个点的地方），你会看到几个按钮，
        // 它们可以让你快速的使用 Color 和 Shadow 编辑器添加 CSS 属性：
        // ---------------------console.log调试打印日志-----------------------------
        // 1. Conditional breakpoints 条件断点
        // 可以在要添加断点的地方，右击行号并且选择 Add conditional breakpoint...(添加条件断点) 的选项
        // 或者右击一个已经设置的断点并且选择 Edit breakpoint(编辑断点)
        // 然后输入一个执行结果为 true 或者 false 的表达式
        //（它的值并不需要明确的为 true 或者 false 尽管那个弹出框的描述是这样说的）。
        
    </script>
</body>

</html>